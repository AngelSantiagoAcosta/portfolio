<!DOCTYPE html>
<html>
      <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    {%extends 'base.html'%}
    {%block content%}
<body>

      <div class="contianer is-fluid mt-5 mb-5">
        <div class="columns">
          <div class="column">
          </div>
          <div class="column is-half">
            <div class="card">
                <div class="card-content">
                  <p class="title has-text-centered pb-2">
                    Crypto Data Visualization
                  </p>
                  <p class="subtitle has-text-centered ">
                    This visualization utilizes  the <a href="https://alpaca.markets/docs/api-references/market-data-api/crypto-pricing-data/realtime/">Alpaca Crypto Data API</a>  and a JavaScript library <a href="https://www.tradingview.com/lightweight-charts/">Lightweight Charts</a>. </br>
                    First I subscribe to and authenticate the websocket that is recieved from the API call. The data begins streaming which I parse accordingly.
                    I split the data into Quotes, Trades, and Buys, which is used to populate the chart and tile objects.
                    Another note is that I grab the last hour of historical data to populate the Chart before streaming begins.
                    Parsing and Visualizing Data, API's, WebSockets, Javascript                    
                  </p>
                </div>
              </div>
            </div>
          <div class="column">
          </div>
        </div>
      </div>
        <div class="tile is-ancestor ">
          <div class="tile is-parent">
              <div class="tile is-child box level">
                <h1 class="level-item mb-4">ETH USD<span class="ml-4 dot "></span></h1>
                <i class="fas fa-info-circle"></i>
                <div id="chart" class="level-item">
                </div>
              </div>
            </div>
          <div class="tile is-6 is-vertical is-parent">
            <div class="tile is-child box">
              <h1 class="is-family-primary">Quotes</h1>
              <div id="quotes" class="panel "></div>
            </div>
            <div class="tile is-child box">
              <h1>Trades</h1>
              <div id="trades" class="panel "></div>
            </div>
          </div>
        </div>
      <script src="{{ url_for('static', filename='/js/gridbot.js') }}"></script>


</body>
{%endblock%}
</html>